{% extends "base.html" %}

{% block title %}{{ client.razao_social }} - Financeira Autêntica{% endblock %}

{% block content %}
<div class="row">
    <div class="col-12">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h1 class="h3 mb-0">
                <i class="fas fa-user text-primary me-2"></i>
                Detalhes do Cliente
            </h1>
            <div class="d-flex gap-2">
                <a href="{{ url_for('clients') }}" class="btn btn-outline-secondary">
                    <i class="fas fa-arrow-left me-1"></i>Voltar
                </a>
            </div>
        </div>
    </div>
</div>

<!-- Informações Básicas -->
<div class="row mb-4">
    <div class="col-lg-8">
        <div class="card shadow">
            <div class="card-header py-3">
                <h6 class="m-0 font-weight-bold text-primary">Informações Básicas</h6>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label class="form-label text-muted">Código Omie</label>
                        <p class="h6">{{ client.codigo_cliente_omie }}</p>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label class="form-label text-muted">Status</label>
                        <p>
                            {% if client.inativo == "N" %}
                                <span class="badge bg-success">Ativo</span>
                            {% else %}
                                <span class="badge bg-secondary">Inativo</span>
                            {% endif %}
                        </p>
                    </div>
                    <div class="col-md-12 mb-3">
                        <label class="form-label text-muted">Razão Social</label>
                        <p class="h5">{{ client.razao_social }}</p>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label class="form-label text-muted">Nome Fantasia</label>
                        <p class="h6">{{ client.nome_fantasia or '-' }}</p>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label class="form-label text-muted">CNPJ/CPF</label>
                        <p class="h6">{{ client.cnpj_cpf | format_cpf_cnpj }}</p>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label class="form-label text-muted">Tipo de Pessoa</label>
                        <p>
                            {% if client.pessoa_fisica == "S" %}
                                <span class="badge bg-info">Pessoa Física</span>
                            {% else %}
                                <span class="badge bg-primary">Pessoa Jurídica</span>
                            {% endif %}
                        </p>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label class="form-label text-muted">Inscrição Estadual</label>
                        <p>{{ client.inscricao_estadual or '-' }}</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="col-lg-4">
        <div class="card shadow">
            <div class="card-header py-3">
                <h6 class="m-0 font-weight-bold text-primary">Resumo</h6>
            </div>
            <div class="card-body text-center">
                <div class="mb-3">
                    <i class="fas fa-user-circle fa-4x text-primary"></i>
                </div>
                <h5>{{ client.nome_fantasia or client.razao_social }}</h5>
                <p class="text-muted">{{ client.cnpj_cpf | format_cpf_cnpj }}</p>
                <hr>
                <div class="row">
                    <div class="col-6">
                        <small class="text-muted">Cidade</small>
                        <p class="mb-0">{{ client.cidade or '-' }}</p>
                    </div>
                    <div class="col-6">
                        <small class="text-muted">Estado</small>
                        <p class="mb-0">{{ client.estado or '-' }}</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Endereço -->
<div class="row mb-4">
    <div class="col-12">
        <div class="card shadow">
            <div class="card-header py-3">
                <h6 class="m-0 font-weight-bold text-primary">Endereço</h6>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-8 mb-3">
                        <label class="form-label text-muted">Logradouro</label>
                        <p>{{ client.endereco or '-' }}</p>
                    </div>
                    <div class="col-md-4 mb-3">
                        <label class="form-label text-muted">Número</label>
                        <p>{{ client.endereco_numero or '-' }}</p>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label class="form-label text-muted">Complemento</label>
                        <p>{{ client.complemento or '-' }}</p>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label class="form-label text-muted">Bairro</label>
                        <p>{{ client.bairro or '-' }}</p>
                    </div>
                    <div class="col-md-4 mb-3">
                        <label class="form-label text-muted">CEP</label>
                        <p>{{ client.cep or '-' }}</p>
                    </div>
                    <div class="col-md-4 mb-3">
                        <label class="form-label text-muted">Cidade</label>
                        <p>{{ client.cidade or '-' }}</p>
                    </div>
                    <div class="col-md-4 mb-3">
                        <label class="form-label text-muted">Estado</label>
                        <p>{{ client.estado or '-' }}</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Contato -->
<div class="row">
    <div class="col-12">
        <div class="card shadow">
            <div class="card-header py-3">
                <h6 class="m-0 font-weight-bold text-primary">Informações de Contato</h6>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label class="form-label text-muted">Telefone</label>
                        <p>
                            {% if client.telefone1_ddd and client.telefone1_numero %}
                                {{ client.telefone1_ddd | format_phone(client.telefone1_numero) }}
                            {% else %}
                                -
                            {% endif %}
                        </p>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label class="form-label text-muted">Telefone 2</label>
                        <p>
                            {% if client.telefone2_ddd and client.telefone2_numero %}
                                {{ client.telefone2_ddd | format_phone(client.telefone2_numero) }}
                            {% else %}
                                -
                            {% endif %}
                        </p>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label class="form-label text-muted">Fax</label>
                        <p>
                            {% if client.fax_ddd and client.fax_numero %}
                                {{ client.fax_ddd | format_phone(client.fax_numero) }}
                            {% else %}
                                -
                            {% endif %}
                        </p>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label class="form-label text-muted">E-mail</label>
                        <p>{{ client.email or '-' }}</p>
                    </div>
                    <div class="col-md-12 mb-3">
                        <label class="form-label text-muted">Homepage</label>
                        <p>
                            {% if client.homepage %}
                                <a href="{{ client.homepage }}" target="_blank" class="text-decoration-none">
                                    {{ client.homepage }}
                                    <i class="fas fa-external-link-alt ms-1"></i>
                                </a>
                            {% else %}
                                -
                            {% endif %}
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}